<div class="container">
    <h2>Nuova Partita</h2>
    <form [formGroup]="partitaForm">
        <ngb-accordion [closeOthers]="true" activeIds="DatiGenerali" #formAcc="ngbAccordion">
            <ngb-panel id="DatiGenerali">
                <ng-template ngbPanelTitle>
                    Dati Generali
                </ng-template>
                <ng-template ngbPanelContent>
                    <div class="row">
                        <div class="mb-3 col-md-6">
                            <label for="nomeSquadraCasa" class="form-label">Nome Squadra di casa</label>
                            <input class="form-control" [ngClass]="validationHelper.getClassName(nomeSquadraCasa)"
                                [formControl]="nomeSquadraCasa">
                            <div class="invalid-feedback">
                                {{validationHelper.getErrorMessage(nomeSquadraCasa)}}
                            </div>
                        </div>
                        <div class="mb-3 col-md-6">
                            <label for="nomeSquadraOspiti" class="form-label">Nome Squadra di casa</label>
                            <input class="form-control" [ngClass]="validationHelper.getClassName(nomeSquadraOspiti)"
                                [formControl]="nomeSquadraOspiti">
                            <div class="invalid-feedback">
                                {{validationHelper.getErrorMessage(nomeSquadraOspiti)}}
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="mb-3 col-md-4">
                            <label for="luogo" class="form-label">Luogo</label>
                            <input class="form-control" [ngClass]="validationHelper.getClassName(luogo)"
                                [formControl]="luogo">
                            <div class="invalid-feedback">
                                {{validationHelper.getErrorMessage(luogo)}}
                            </div>
                        </div>
                        <div class="mb-3 col-md-4">
                            <label for="campionato" class="form-label">Campionato</label>
                            <input class="form-control" [ngClass]="validationHelper.getClassName(campionato)"
                                [formControl]="campionato">
                            <div class="invalid-feedback">
                                {{validationHelper.getErrorMessage(campionato)}}
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-12">
                            <button class="btn btn-primary float-end" type="button"
                                (click)="nextFirstStep()">Avanti</button>
                        </div>
                    </div>
                </ng-template>
            </ngb-panel>
            <ngb-panel id="RosterSquadraCasa">
                <ng-template ngbPanelTitle>
                    Squadra di casa
                </ng-template>
                <ng-template ngbPanelContent formArrayName="lineupCasa">
                    <div class="row">
                        <div class="col-12">
                            <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" role="switch"
                                    [(ngModel)]="checkNumLineupCasa" [ngModelOptions]="{standalone: true}"
                                    (change)="toggleNumLineupCasa()">
                                <label class="form-check-label" for="flexSwitchCheckCasaChecked">Utilizza solo
                                    numeri</label>
                            </div>
                        </div>
                    </div>
                    <div class="row mb-2 d-md-flex d-none">
                        <div class="col-md-1">
                            <label>Numero</label>
                        </div>
                        <div class="col-md-6">
                            <label>Nome</label>
                        </div>
                        <div class="col-md-5">
                            <label>Ruolo</label>
                        </div>
                    </div>
                    <div class="row border-bottom mb-2" *ngFor="let item of lineupCasa.controls; let i=index"
                        [formGroupName]="i">
                        <div class="col-2 col-md-1 mb-2">
                            <input type="text" formControlName="numero" class="form-control text-center" readonly />
                        </div>
                        <div class="col-10 col-md-6 mb-2">
                            <input class="form-control" formControlName="nome" />
                        </div>
                        <div class="col-md-5 mb-2">
                            <select class="form-select" aria-label="Ruolo" formControlName="ruolo">
                                <option value="">Ruolo</option>
                                <option value="0">Portiere</option>
                                <option value="1">Difensore</option>
                                <option value="2">Attaccante</option>
                                <option value="3">Centroboa</option>
                            </select>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-12">
                            <button class="btn btn-primary float-end" type="button"
                                (click)="nextSecondStep()">Avanti</button>
                        </div>
                    </div>
                </ng-template>
            </ngb-panel>
            <ngb-panel id="RosterSquadraOspiti">
                <ng-template ngbPanelTitle>
                    Squadra ospiti
                </ng-template>
                <ng-template ngbPanelContent formArrayName="lineupOspiti">
                    <div class="row">
                        <div class="col-12">
                            <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" role="switch"
                                    [(ngModel)]="checkNumLineupOspiti" [ngModelOptions]="{standalone: true}"
                                    (change)="toggleNumLineupOspiti()">
                                <label class="form-check-label" for="flexSwitchCheckOspitiChecked">Utilizza solo
                                    numeri</label>
                            </div>
                        </div>
                    </div>
                    <div class="row mb-2 d-md-flex d-none">
                        <div class="col-md-1">
                            <label>Numero</label>
                        </div>
                        <div class="col-md-6">
                            <label>Nome</label>
                        </div>
                        <div class="col-md-5">
                            <label>Ruolo</label>
                        </div>
                    </div>
                    <div class="row border-bottom mb-2" *ngFor="let item of lineupOspiti.controls; let i=index"
                        [formGroupName]="i">
                        <div class="col-2 col-md-1 mb-2">
                            <input type="text" formControlName="numero" class="form-control text-center" readonly />
                        </div>
                        <div class="col-10 col-md-6 mb-2">
                            <input class="form-control" formControlName="nome" />
                        </div>
                        <div class="col-md-5 mb-2">
                            <select class="form-select" aria-label="Ruolo" formControlName="ruolo">
                                <option value="">Ruolo</option>
                                <option value="0">Portiere</option>
                                <option value="1">Difensore</option>
                                <option value="2">Attaccante</option>
                                <option value="3">Centroboa</option>
                            </select>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-12">
                            <button class="btn btn-primary float-end" type="button">Salva</button>
                        </div>
                    </div>
                </ng-template>
            </ngb-panel>
        </ngb-accordion>
    </form>
</div>